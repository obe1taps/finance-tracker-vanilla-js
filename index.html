<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–¢—Ä–µ–∫–µ—Ä –ª–∏—á–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤</title>
  </head>
  <body>
    <header class="container header">
      <div class="header__row">
        <div class="header__left">
          <h1>–¢—Ä–µ–∫–µ—Ä –ª–∏—á–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤</h1>
          <p class="muted">–î–æ—Ö–æ–¥—ã, —Ä–∞—Å—Ö–æ–¥—ã –∏ –±–∞–ª–∞–Ω—Å ‚Äî –≤—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.</p>
        </div>
        <div class="header__right">
          <label class="selectField">
            <select id="currencySelect">
              <option value="RUB">RUB ‚ÇΩ</option>
              <option value="USD">USD $</option>
              <option value="BYN">BYN Br</option>
            </select>
          </label>
          <button
            id="themeToggleBtn"
            class="iconBtn"
            type="button"
            aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É"
          >
            üåô
          </button>
        </div>
      </div>
    </header>
    <main class="container">
      <section class="cards">
        <div class="card">
          <div class="card__title">–î–æ—Ö–æ–¥—ã</div>
          <div id="incomeTotal" class="card__value">0 ‚ÇΩ</div>
        </div>
        <div class="card">
          <div class="card__title">–†–∞—Å—Ö–æ–¥—ã</div>
          <div id="expenseTotal" class="card__value">0 ‚ÇΩ</div>
        </div>
        <div class="card">
          <div class="card__title">–ë–∞–ª–∞–Ω—Å</div>
          <div id="balanceTotal" class="card__value">0 ‚ÇΩ</div>
        </div>
      </section>
      <section class="panel">
        <div class="listHeader">
          <h2>–û–ø–µ—Ä–∞—Ü–∏–∏</h2>
          <div class="listHeader__actions">
            <button id="openCreateBtn" class="btn" type="button">
              –î–æ–±–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
            </button>
            <button
              id="filtersToggleBtn"
              class="btn btn--ghost"
              type="button"
              aria-expanded="false"
              aria-controls="filtersCollapse"
            >
              –§–∏–ª—å—Ç—Ä—ã
            </button>
            <button id="exportCsvBtn" class="btn btn--ghost" type="button">
              –≠–∫—Å–ø–æ—Ä—Ç CSV
            </button>
            <button id="clearAllBtn" class="btn btn--danger" type="button">
              –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë
            </button>
          </div>
        </div>
        <div id="filtersCollapse" class="filtersCollapse" hidden>
          <div class="filters">
            <label class="field">
              <span class="field__label">–¢–∏–ø</span>
              <select id="filterType">
                <option value="all" selected>–í—Å–µ</option>
                <option value="income">–î–æ—Ö–æ–¥—ã</option>
                <option value="expense">–†–∞—Å—Ö–æ–¥—ã</option>
              </select>
            </label>
            <label class="field">
              <span class="field__label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</span>
              <select id="filterCategory">
                <option value="all" selected>–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                <!-- –†–∞—Å—Ö–æ–¥—ã -->
                <option data-type="expense" value="–ï–¥–∞">–ï–¥–∞</option>
                <option data-type="expense" value="–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
                <option data-type="expense" value="–ñ–∏–ª—å—ë">–ñ–∏–ª—å—ë</option>
                <option data-type="expense" value="–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è">
                  –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è
                </option>
                <option data-type="expense" value="–ó–¥–æ—Ä–æ–≤—å–µ">–ó–¥–æ—Ä–æ–≤—å–µ</option>
                <option data-type="expense" value="–ü–æ–∫—É–ø–∫–∏">–ü–æ–∫—É–ø–∫–∏</option>
                <option data-type="expense" value="–ü—Ä–æ—á–µ–µ">–ü—Ä–æ—á–µ–µ</option>
                <!-- –î–æ—Ö–æ–¥—ã -->
                <option data-type="income" value="–ó–∞—Ä–ø–ª–∞—Ç–∞">–ó–∞—Ä–ø–ª–∞—Ç–∞</option>
                <option data-type="income" value="–ü–æ–¥—Ä–∞–±–æ—Ç–∫–∞">
                  –ü–æ–¥—Ä–∞–±–æ—Ç–∫–∞
                </option>
                <option data-type="income" value="–ü–æ–¥–∞—Ä–æ–∫">–ü–æ–¥–∞—Ä–æ–∫</option>
                <option data-type="income" value="–í–æ–∑–≤—Ä–∞—Ç">–í–æ–∑–≤—Ä–∞—Ç</option>
                <option data-type="income" value="–î—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
              </select>
            </label>
            <label class="field">
              <span class="field__label">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</span>
              <select id="sortOrder">
                <option value="desc" selected>–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>
                <option value="asc">–°–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—ã–µ</option>
              </select>
            </label>
            <label class="field">
              <span class="field__label">–ü–µ—Ä–∏–æ–¥</span>
              <select id="filterPeriod">
                <option value="all" selected>–ó–∞ –≤—Å—ë –≤—Ä–µ–º—è</option>
                <option value="7d">–ü–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π</option>
                <option value="30d">–ü–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π</option>
                <option value="month">–≠—Ç–æ—Ç –º–µ—Å—è—Ü</option>
                <option value="year">–≠—Ç–æ—Ç –≥–æ–¥</option>
                <option value="custom">–í—ã–±—Ä–∞—Ç—å‚Ä¶</option>
              </select>
            </label>
            <label class="field">
              <span class="field__label">–°</span>
              <input id="filterFrom" type="date" disabled />
            </label>
            <label class="field">
              <span class="field__label">–ü–æ</span>
              <input id="filterTo" type="date" disabled />
            </label>
            <label class="field field--full">
              <span class="field__label">–ü–æ–∏—Å–∫ –ø–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—é</span>
              <input
                id="filterQuery"
                type="text"
                placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –º–∞–≥–∞–∑–∏–Ω, –∫–æ—Ñ–µ, —Ç–∞–∫—Å–∏..."
              />
            </label>
            <div class="actions filters__footer">
              <span class="filters__hint">
                –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–æ–∫—É, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
              </span>
              <button id="resetFiltersBtn" class="btn btn--ghost" type="button">
                –°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
              </button>
            </div>
          </div>
        </div>
        <div class="stats">
          <div class="stats__block">
            <div class="stats__title">–†–∞—Å—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</div>
            <canvas id="chartExpense"></canvas>
            <ul id="statsExpense" class="stats__list"></ul>
            <p id="statsExpenseEmpty" class="muted">–ü–æ–∫–∞ –Ω–µ—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤</p>
          </div>
          <div class="stats__block">
            <div class="stats__title">–î–æ—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</div>
            <canvas id="chartIncome"></canvas>
            <ul id="statsIncome" class="stats__list"></ul>
            <p id="statsIncomeEmpty" class="muted">–ü–æ–∫–∞ –Ω–µ—Ç –¥–æ—Ö–æ–¥–æ–≤</p>
          </div>
        </div>
        <h2>–°–ø–∏—Å–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π</h2>
        <ul id="transactionsList" class="list"></ul>
        <div id="listPager" class="pager">
          <div id="pagerInfo" class="muted"></div>
          <button id="loadMoreBtn" class="btn btn--ghost" type="button">
            –ü–æ–∫–∞–∑–∞—Ç—å –µ—â—ë
          </button>
        </div>
        <p id="emptyState" class="muted">–û–ø–µ—Ä–∞—Ü–∏–π –ø–æ–∫–∞ –Ω–µ—Ç. –î–æ–±–∞–≤—å –ø–µ—Ä–≤—É—é üëá</p>
      </section>
    </main>
    <footer class="footer muted">
      <div class="container">
        <small
          >Vanilla JavaScript ‚Ä¢ –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ localStorage</small
        >
      </div>
    </footer>
    <!-- –ú–æ–¥–∞–ª–∫–∞ -->
    <div id="txModal" class="modal" aria-hidden="true">
      <div class="modal__backdrop" data-close="true"></div>
      <div
        class="modal__content"
        role="dialog"
        aria-modal="true"
        aria-labelledby="modalTitle"
      >
        <div class="modal__header">
          <h2 id="modalTitle">–ù–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è</h2>
          <button
            id="closeModalBtn"
            class="modal__close"
            type="button"
            aria-label="–ó–∞–∫—Ä—ã—Ç—å"
          >
            √ó
          </button>
        </div>
        <form id="transactionForm" class="form">
          <label class="field">
            <span class="field__label">–¢–∏–ø</span>
            <select name="type" required>
              <option value="expense" selected>–†–∞—Å—Ö–æ–¥</option>
              <option value="income">–î–æ—Ö–æ–¥</option>
            </select>
          </label>
          <label class="field">
            <span class="field__label">–°—É–º–º–∞</span>
            <input
              name="amount"
              type="text"
              inputmode="decimal"
              placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 1200"
              autocomplete="off"
              required
            />
          </label>
          <label class="field">
            <span class="field__label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</span>
            <select name="category" required>
              <!-- –†–∞—Å—Ö–æ–¥—ã -->
              <option data-type="expense" value="–ï–¥–∞">–ï–¥–∞</option>
              <option data-type="expense" value="–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
              <option data-type="expense" value="–ñ–∏–ª—å—ë">–ñ–∏–ª—å—ë</option>
              <option data-type="expense" value="–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è">
                –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è
              </option>
              <option data-type="expense" value="–ó–¥–æ—Ä–æ–≤—å–µ">–ó–¥–æ—Ä–æ–≤—å–µ</option>
              <option data-type="expense" value="–ü–æ–∫—É–ø–∫–∏">–ü–æ–∫—É–ø–∫–∏</option>
              <option data-type="expense" value="–ü—Ä–æ—á–µ–µ">–ü—Ä–æ—á–µ–µ</option>
              <!-- –î–æ—Ö–æ–¥—ã -->
              <option data-type="income" value="–ó–∞—Ä–ø–ª–∞—Ç–∞">–ó–∞—Ä–ø–ª–∞—Ç–∞</option>
              <option data-type="income" value="–ü–æ–¥—Ä–∞–±–æ—Ç–∫–∞">–ü–æ–¥—Ä–∞–±–æ—Ç–∫–∞</option>
              <option data-type="income" value="–ü–æ–¥–∞—Ä–æ–∫">–ü–æ–¥–∞—Ä–æ–∫</option>
              <option data-type="income" value="–í–æ–∑–≤—Ä–∞—Ç">–í–æ–∑–≤—Ä–∞—Ç</option>
              <option data-type="income" value="–î—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
            </select>
          </label>
          <label class="field">
            <span class="field__label">–î–∞—Ç–∞</span>
            <input name="date" type="date" required />
          </label>
          <label class="field field--full">
            <span class="field__label">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</span>
            <input
              name="note"
              type="text"
              placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ø—Ä–æ–¥—É–∫—Ç—ã –≤ –º–∞–≥–∞–∑–∏–Ω–µ"
              maxlength="60"
            />
          </label>
          <div class="actions">
            <button id="submitBtn" class="btn" type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
            <button id="cancelEditBtn" class="btn btn--ghost" type="button">
              –ó–∞–∫—Ä—ã—Ç—å
            </button>
          </div>
          <p id="formError" class="error" aria-live="polite"></p>
        </form>
      </div>
    </div>
    <div
      id="toasts"
      class="toasts"
      aria-live="polite"
      aria-relevant="additions"
    ></div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
